<?php/** * Created by PhpStorm. * User: abc * Date: 11/29/2017 * Time: 1:41 AM */class MY_Controller extends CI_Controller{    public function __construct()    {        parent::__construct();        if ($this->session->userdata('loggedin') != TRUE){            redirect('/');        }        $this->lang->load('admin', $this->session->userdata('Language'));        if(!($this->session->userdata('Language')))        {            $this->session->set_userdata('Language','english');        }    }public function count_store(){        $this->db->select('id');        $this->db->from('centersq_stores');        $query=$this->db->get();        $num= $query->num_rows();        return $num;}    public function count_hqs()    {        $this->db->select('id');        $this->db->from('centersq_hqs');        $query = $this->db->get();        $num = $query->num_rows();        return $num;    }    public function upload_it($fieldname, $key,$path){        // echo "<pre>";print_r($fieldname);echo "</pre>";exit;        $_FILES['c_img']['name'] = $fieldname['name'];        $_FILES['c_img']['type'] = $fieldname['type'];        $_FILES['c_img']['tmp_name'] = $fieldname['tmp_name'];        $_FILES['c_img']['error'] = $fieldname['error'];        $_FILES['c_img']['size'] = $fieldname['size'];        $this->load->library('image_lib');        $data = NULL;        $config['upload_path'] =$path;        $config['allowed_types'] = '*';        $config['max_size'] = '5000000';        $this->load->library('upload', $config);        $this->upload->initialize($config);        $data['upload_data'] = '';        if(!$this->upload->do_upload('c_img')){            $data = array('msg' => $this->upload->display_errors());        }else{            $data = array('msg' => "Upload success !");            $data['upload_data'] = $this->upload->data();        }        return $data;    }}